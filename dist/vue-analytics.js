!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var t in r)("object"==typeof exports?exports:e)[t]=r[t]}}("undefined"!=typeof self?self:this,function(){return function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,r){"use strict";function t(e){f(F,e)}function o(){return F.id?[].concat(F.id):[]}function a(){return F.trackerName}function i(){}function c(e){return new Promise(function(n,r){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");o.async=!0,o.src=e,o.charset="utf-8",t.appendChild(o),o.onload=n,o.onerror=r})}function u(e,n){var r=n.split("/"),t=e.split("/");return""===r[0]&&"/"===e[e.length-1]&&r.shift(),t.join("/")+r.join("/")}function f(e,n){return Object.keys(n).forEach(function(r){var t=e[r]&&Object.prototype.toString.call(e[r]);if("[object Object]"===t||"[object Array]"===t)return void f(e[r],n[r]);e[r]=n[r]}),e}function l(){return Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return-1!==e.src.indexOf("analytics")||-1!==e.src.indexOf("gtag")}).length>0}function s(){var e=_.checkDuplicatedScript,n=_.disableScriptLoader;return[Boolean(window&&window.ga),e&&!l(),!n].some(Boolean)}function d(e){return e.name||e.replace(/-/gi,"")}function p(){return new Promise(function(e,n){var r=setInterval(function(){"undefined"!=typeof window&&window.ga&&(e(),clearInterval(r))},10)})}function v(e,n){if(o().length>1){return d(n)+"."+e}return e}function y(e){var n=Object.keys(e).reduce(function(n,r,t,o){var a=t===o.length-1,i=e[r];return null==i?n:n+=r+"="+i+(a?"":"&")},"");return""!==n?"?"+n:""}function h(e){return[e.name,e.path].filter(Boolean).find(function(e){return-1!==_.ignoreRoutes.indexOf(e)})}function g(e){return e.query&&e.params}function m(e){return e.currentRoute}function w(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}function b(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];"undefined"!=typeof window&&o().forEach(function(n){var t={m:v(e,n),a:r};if(!window.ga)return void _.untracked.push(t);if(_.batch.enabled)$.push(t),U||(U=setInterval(function(){$.length?$.splice(0,_.batch.amount).forEach(function(e){var n;(n=window).ga.apply(n,[e.m].concat(w(e.a)))}):(clearInterval(U),U=null)},_.batch.delay));else{var o;(o=window).ga.apply(o,[v(e,n)].concat(r))}})}function k(){for(var e=a(),n=e?e+".set":"set",r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];if("object"==typeof t[0]&&t[0].constructor===Object)return void b(n,t[0]);b(n,t[0],t[1])}function A(){if(!window.ga&&_.debug.enabled)throw new Error("[vue-analytics] Google Analytics has probably been blocked.");if(window.ga){var e=o(),n=a();_.debug.enabled&&(window.ga_debug={trace:_.debug.trace}),e.forEach(function(r){var t=d(r),o=_.customIdFields[r]||{},a=e.length>1?D({},_.fields,o,{name:t}):_.fields;n?window.ga("create",r.id||r,"auto",n,a):window.ga("create",r.id||r,"auto",a)}),_.beforeFirstHit();var r=_.ecommerce;if(r.enabled){var t=r.enhanced?"ec":"ecommerce";r.options?b("require",t,r.options):b("require",t)}_.linkers.length>0&&(b("require","linker"),b("linker:autoLink",_.linkers)),_.debug.sendHitTask||k("sendHitTask",null)}}function x(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=n[0];if(1===n.length&&"string"==typeof t)return b("send","screenview",{screenName:t});b.apply(void 0,["send","screenview"].concat(n))}function O(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||n[0]){var t=void 0;if(n.length&&m(n[0])&&(t=n[0].currentRoute),n.length&&g(n[0])&&(t=n[0]),t)j(t);else{k("page","object"==typeof n[0]?n[0].page:n[0]);var o=a(),i=o?o+".send":"send";b.apply(void 0,[i,"pageview"].concat(n))}}}function j(e){if(!h(e)){var n=_.autoTracking,r=e.meta.analytics,t=void 0===r?{}:r,o=t.pageviewTemplate||n.pageviewTemplate;if(n.screenview&&!e.name)throw new Error("[vue-analytics] Route name is mandatory when using screenview.");if(n.screenview)return void x(e.name);if(o)O(o(e));else{var a=_.router,i=_.autoTracking,c=i.transformQueryString,f=i.prependBase,l=y(e.query),s=a&&a.options.base,d=f&&s,p=e.path+(c?l:"");p=d?u(s,p):p,O(p)}}}function E(){var e=_.router,n=_.autoTracking;n.page&&e&&(n.pageviewOnLoad&&e.history.ready&&j(e.currentRoute),_.router.afterEach(function(r,t){var o=n.skipSamePath,a=n.shouldRouterUpdate;o&&r.path===t.path||("function"!=typeof a||a(r,t))&&_.$vue.nextTick().then(function(){j(e.currentRoute)})}))}function T(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}function q(){for(var e=a(),n=e?e+".send":"send",r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];b.apply(void 0,[n,"event"].concat(t))}function P(){for(var e=a(),n=e?e+".send":"send",r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];b.apply(void 0,[n,"social"].concat(t))}function R(){for(var e=a(),n=e?e+".send":"send",r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];b.apply(void 0,[n,"timing"].concat(t))}function L(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function S(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}function I(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(ce({},n,{$vue:e})),e.directive("ga",oe),e.prototype.$ga=e.$ga=te,X(e),J()}Object.defineProperty(n,"__esModule",{value:!0});var B=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},H={$vue:null,id:null,trackerName:null,router:null,fields:{},customIdFields:{},ignoreRoutes:[],linkers:[],commands:{},disabled:!1,customResourceURL:null,set:[],require:[],ecommerce:{enabled:!1,options:null,enhanced:!1},autoTracking:{screenview:!1,shouldRouterUpdate:null,skipSamePath:!1,exception:!1,exceptionLogs:!0,page:!0,transformQueryString:!0,pageviewOnLoad:!0,pageviewTemplate:null,untracked:!0,prependBase:!0},debug:{enabled:!1,trace:!1,sendHitTask:!0},batch:{enabled:!1,delay:500,amount:2},checkDuplicatedScript:!1,disableScriptLoader:!1,beforeFirstHit:i,ready:i,untracked:[]},F=B({},H),_=F,N=function(e){if(e.then)return e;if("function"==typeof e){var n=e();return n.then?n:Promise.resolve(n)}return Promise.resolve(e)},U=void 0,$=[],D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},M=function(){var e=a(),n=e?e+".require":"require";if(2==arguments.length)return void b(n,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);b(n,arguments.length<=0?void 0:arguments[0])},C=function(){_.set.forEach(function(e){var n=e.field,r=e.value;if(void 0===n||void 0===r)throw new Error('[vue-analytics] Wrong configuration in the plugin options.\nThe "set" array requires each item to have a "field" and a "value" property.');k(n,r)})},G=function(){var e=["ec","ecommerce"];_.require.forEach(function(n){if(-1!==e.indexOf(n)||-1!==e.indexOf(n.name))throw new Error("[vue-analytics] The ecommerce features are built-in in the plugin. \nFollow the ecommerce instructions available in the documentation.");if("string"!=typeof n&&"object"!=typeof n)throw new Error('[vue-analytics] Wrong configuration in the plugin options. \nThe "require" array requires each item to be a string or to have a "name" and an "options" property.');var r=n.name||n;if(n.options)return void M(r,n.options);M(r)})},Q=function(){C(),G()},W=function(){_.untracked.forEach(function(e){b.apply(void 0,[e.m].concat(T(e.a)))})},z=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"undefined"!=typeof window&&o().forEach(function(n){window["ga-disable-"+n]=e})},J=function(){if("undefined"!=typeof document&&"undefined"!=typeof window){var e=_.ready,n=_.debug.enabled?"analytics_debug":"analytics",r=_.customResourceURL||"https://www.google-analytics.com/"+n+".js";if(!_.id)throw new Error('[vue-analytics] Missing the "id" parameter. Add at least one tracking domain ID');var o=[N(_.id),N(_.disabled)];return s()&&o.push(c(r).catch(function(){throw new Error("[vue-analytics] An error occured! Please check your connection, if you have any Google Analytics blocker installed in your browser or check your custom resource URL if you have added any.")})),Promise.all(o).then(function(n){t({id:n[0],disabled:n[1]}),z(_.disabled),A(),Q(),W(),E(),e()}).catch(function(e){_.debug.enabled&&console.error(e.message)})}},K=this,V=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=a();b(r?r+".send":"send","exception",{exDescription:e,exFatal:n})},X=function(e){if(_.autoTracking.exception){window.addEventListener("error",function(e){V(e.message)});var n=e.config.errorHandler;e.config.errorHandler=function(e,r,t){V(e.message),_.autoTracking.exceptionLogs&&(console.error("[vue-analytics] Error in "+t+": "+e.message),console.error(e)),"function"==typeof n&&n.call(K,e,r,t)}}},Y=V,Z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ee=function(e){return(_.ecommerce.enhanced?"ec":"ecommerce")+":"+e},ne=["addItem","addTransaction","addProduct","addImpression","setAction","addPromo","send"],re=ne.reduce(function(e,n){return Z({},e,L({},n,function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];b.apply(void 0,[ee(n)].concat(r))}))},{}),te={event:q,exception:Y,page:O,query:b,require:M,set:k,social:P,time:R,screenview:x,ecommerce:re,disable:function(){return z(!0)},enable:function(){return z(!1)},commands:_.commands},oe={inserted:function(e,n,r){var t=Object.keys(n.modifiers);0===t.length&&t.push("click"),t.forEach(function(t){e.addEventListener(t,function(){var e="string"==typeof n.value?_.commands[n.value]:n.value;if(!e)throw new Error("[vue-analytics] The value passed to v-ga is not defined in the commands list.");e.apply(r.context)})})}},ae=function(){function e(e,n){var r=[],t=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(r.push(i.value),!n||r.length!==n);t=!0);}catch(e){o=!0,a=e}finally{try{!t&&c.return&&c.return()}finally{if(o)throw a}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ie=function(e){e.subscribe(function(e){var n=e.payload;if(n&&n.meta&&n.meta.analytics){var r=n.meta.analytics;if(!Array.isArray(r))throw new Error('The "analytics" property needs to be an array');r.forEach(function(e){var n=void 0,r=e.shift(),t=e;if(r.includes(":")){var o=r.split(":"),a=ae(o,2);r=a[0],n=a[1]}if(!(r in te))throw new Error('[vue-analytics:vuex] The type "'+r+"\" doesn't exist.");if(n&&!(n in te[r]))throw new Error('[vue-analytics:vuex] The type "'+r+'" has not method "'+n+'".');if("ecommerce"===r&&!n)throw new Error('[vue-analytics:vuex] The type "'+r+'" needs to call a method. Check documentation.');if(n){var i;(i=te[r])[n].apply(i,S(t))}else te[r].apply(te,S(t))})}})};n.default=I,r.d(n,"analyticsMiddleware",function(){return ue}),r.d(n,"onAnalyticsReady",function(){return fe}),r.d(n,"event",function(){return le}),r.d(n,"ecommerce",function(){return se}),r.d(n,"set",function(){return de}),r.d(n,"page",function(){return pe}),r.d(n,"query",function(){return ve}),r.d(n,"screenview",function(){return ye}),r.d(n,"time",function(){return he}),r.d(n,"require",function(){return ge}),r.d(n,"exception",function(){return me}),r.d(n,"social",function(){return we});var ce=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ue=ie,fe=p,le=te.event,se=te.ecommerce,de=te.set,pe=te.page,ve=te.query,ye=te.screenview,he=te.time,ge=te.require,me=te.exception,we=te.social}])});